<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <title>SYMBIOCHI</title>
    <link rel="icon" href="icon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="icon.svg">
    <link rel="stylesheet" href="styles.css">
	
  </head>
  <body>
    <div id="wrap" class="wrap2">
     
      <div id="centerCol">
        <!-- Заголовок над главной панелью -->
        <div class="mainTitle">SYMBIOCHI</div>

        <div class="panel" id="mainPanel">
          <!-- Левый верх: морковки/монетки/режим (без статов организма) -->
          <div class="invOverlay" id="invOverlay">
            <!-- Сюда renderHud пишет строку вида: "морковки: 190  монетки: 99  режим: ..." -->
            <div class="hudBars" id="hudMeta2"></div>

            <!-- legacy ids для renderHud (скрыто) -->
<!--           <div class="hudLegacy" aria-hidden="true">
              <div id="hudName">—</div>
              <div id="hudStage">—</div>
              <input id="carrotHudInput" class="miniInput" min="0" step="1" value="0" type="number">
              <input id="coinHudInput" class="miniInput" min="0" step="1" value="0" type="number">
            </div>-->
          </div> 

                  <div class="lifeOverlay">
          <div class="perfStats" id="perfStats">
            <div class="perfItem" id="lifePill">Возраст: 00:00:00</div>
          </div>
        </div>
          <div class="viewportFull">
            <div class="gridWrap">
              <div class="grid" id="grid"><canvas id="canvas"></canvas></div>
            </div>
          </div>
          <div class="controlsOverlay">
            <div class="actions"> <button class="smallbtn actBtn actFeed" id="feed"><span

                  class="actIco" aria-hidden="true"></span><span class="actLbl">КОРМ</span></button>
              <button class="smallbtn actBtn actCoin" id="coin"><span class="actIco"

                  aria-hidden="true"></span><span class="actLbl">МОНЕТКА</span></button>
              <button class="smallbtn actBtn actWash" id="wash"><span class="actIco"

                  aria-hidden="true"></span><span class="actLbl">ПОМЫТЬ</span></button>
              <button class="smallbtn actBtn actHeal" id="heal"><span class="actIco"

                  aria-hidden="true"></span><span class="actLbl">ЛЕЧЕНИЕ</span></button>
            </div>
            <div class="footerNote" id="footerInfo">—</div>
          </div>
          <div class="toast" id="toast"></div>
          <div id="startOverlay">
            <div class="startBox modalAnim">
              <h1>SYMBIOCHI</h1>
              <p>Игра для тех кто помнит Dial-Up...</p>
              <button class="btn" id="playBtn">ИГРАТЬ!</button> </div>
          </div>
        </div>
        <div id="settingsOverlay">
          <div class="modal">
            <h2>Настройки</h2>
            
            <div class="field">
              <div>Скорость эволюции (минуты)</div>
              <input id="evoInput" min="0.1" step="0.1" type="number"> </div>
            <div class="field">
              <div>Приоритет длины органов (новые → длинные)</div>
              <input id="lenPrio" min="0" max="100" step="1" type="range"> </div>
            <div class="field">
              <div style="display:flex; gap:10px; align-items:flex-end;">
                <div style="flex:1;">
                  <div>Морковок в запасе</div>
                  <input id="carrotsInput" min="0" step="1" type="number"> </div>
                <div style="flex:1;">
                  <div>Монеток в запасе</div>
                  <input id="coinsInput" min="0" step="1" type="number"> </div>
              </div>
            </div>
            <div class="fxRow">
  <label><input id="fxEnabled" type="checkbox"> <span>Эффекты</span></label>
  <label><input id="soundenabled" type="checkbox"> <span>Звуки</span></label>
</div>
            <div class="modalBtns"> <button class="smallbtn" id="newCreature">НОВАЯ
                ИГРА</button> <button class="smallbtn" id="symbiosisBtn" disabled="disabled"

                title="В разработке">СИМБИОЗ</button> <button class="smallbtn"

                id="saveSettings">ПРИМЕНИТЬ</button> <button class="smallbtn" id="closeSettings">ОТМЕНА</button>
            </div>
          </div>
        </div>
        <div id="symbiosisOverlay">
          <div class="modal symModal">
            <h2>Симбиоз</h2>
            <div class="symBody" id="symBody">
              <div class="symHint" id="symShowHint">Форма сжалась в отпечаток.</div>
              <div class="symRow"> <button class="smallbtn" id="symShareBtn">ПОДЕЛИТЬСЯ
                  СВОИМ ГЕНОМОМ</button> </div>
              <textarea id="symShareOutput" class="symTextArea symTextAreaShare"

readonly="readonly" placeholder="Здесь появится строка отпечатка для ручного копирования"></textarea>
              <textarea id="symReceiveInput" class="symTextArea" placeholder="Вставь строку отпечатка другого существа"></textarea>
              <div class="symRow"> <button class="smallbtn" id="symApplyBtn" disabled="disabled">ПРОИЗВЕСТИ
                  СЛИЯНИЕ</button> </div>
              <div class="symHint" id="symPermissionsHint">Если браузер не дал
                доступ к буферу, скопируй строку вручную.</div>
            </div>
            <div class="symConfirm" id="symConfirm" style="display:none;">
              <div class="symConfirmCard">
                <div class="symConfirmTitle">Процесс необратим.</div>
                <div class="symConfirmText">Это тело будет заменено. Ты точно
                  согласен?</div>
                <div class="symConfirmBtns"> <button class="smallbtn" id="symConfirmYes">СОГЛАСЕН</button>
                  <button class="smallbtn" id="symConfirmNo">ОТМЕНА</button> </div>
              </div>
            </div>
            <div class="modalBtns"> <button class="smallbtn" id="symCloseBtn">ЗАКР</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Правая инфо-панель -->
      <div class="panel" id="infoPanel">
        <div class="tabs" id="infoTabs"> <button class="tabBtn isActive" data-tab="org">ОРГАНИЗМ</button>
          <button class="tabBtn" data-tab="legend">ЛЕГЕНДА</button> <button class="tabBtn"

            data-tab="log">ЖУРНАЛ</button> <button class="tabBtn" data-tab="rules">ПРАВИЛА</button>
         <button class="iconBtn" id="settingsBtn" title="Настройки">⚙</button>
        </div>
        <div class="tabBody isActive" id="tab-org">
          <div class="orgInfo" id="orgInfo"></div>
        </div>
        <div class="tabBody" id="tab-legend">
          <div class="legendBody" id="legendBody"></div>
          <div class="huePicker" id="huePicker" style="display:none;">
            <div class="hueTitle" id="hueTitle">Цвет</div>
            <input id="hueRange" type="color">
            <div class="hint">Подбери цвет по вкусу.</div>
          </div>
        </div>
        <div class="tabBody" id="tab-log">
          <div class="logBody" id="logBody"></div>
          <div class="hdr" style="border-top:1px solid var(--border); border-bottom:none;">
            <div class="s" id="logFooter" style="margin:0;">—</div>
          </div>
        </div>
        <div class="tabBody" id="tab-rules">
          <div class="rulesBody" id="rulesBody"></div>
        </div>
      </div>
    </div>
    <script type="module" src="js/main.js"></script>
  </body>
</html>
