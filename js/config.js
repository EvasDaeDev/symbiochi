// js/config.js
// Единый реестр настраиваемых параметров проекта.
// Сюда складываем "магические числа" и короткие пояснения.

// =========================
// ТЕЛО / ОРГАНЫ
// =========================

// Максимальная длина отростка относительно длины тела.
// (Сейчас в проекте рост органов дополнительно ограничивается самими орган-правилами,
// но этот коэффициент остаётся как верхний "предохранитель".)
export const APPENDAGE_MAX_BODY_MULT = 3;

export function getMaxAppendageLen(bodyLen){
  return Math.max(0, (bodyLen || 0) * APPENDAGE_MAX_BODY_MULT);
}

// =========================
// UI / ОБНОВЛЕНИЯ
// =========================

export const UI = {
  // Как часто выполняется autoTick (симуляция + сейв + обновление HUD), мс.
  AUTO_TICK_MS: 1000,

  // Дребезг ResizeObserver, мс.
  // Без этого браузер может дергать ресайз десятки раз за короткое время.
  RESIZE_DEBOUNCE_MS: 80,

  // "Тяжёлые" панели (список организмов) можно обновлять реже, мс.
  // Важно: если сделать слишком большим (например 3000), будет заметная задержка
  // обновления статов в списке организмов.
  ORGINFO_UPDATE_MS: 500,
};

// =========================
// ПРОИЗВОДИТЕЛЬНОСТЬ
// =========================

export const PERF = {
  // Внутренний лимит частоты расчётов view-анимаций (tickMoving/tickCamera), Гц.
  // Рендер остаётся на requestAnimationFrame.
  VIEW_TICK_HZ: 30,
};
